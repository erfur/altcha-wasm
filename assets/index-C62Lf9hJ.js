(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const Xi="5";typeof window<"u"&&(window.__svelte||={v:new Set}).v.add(Xi);const Zi=1,Hi=4,Ji=8,qi=16,Qi=1,es=2,br="[",pr="[!",yr="]",et={},ie=Symbol(),wr=!1;var xr=Array.isArray,ts=Array.from,zt=Object.keys,Bt=Object.defineProperty,Ve=Object.getOwnPropertyDescriptor,ns=Object.getOwnPropertyDescriptors,rs=Object.prototype,is=Array.prototype,dn=Object.getPrototypeOf;function Er(e){for(var t=0;t<e.length;t++)e[t]()}const me=2,kr=4,Ct=8,wn=16,be=32,It=64,hn=128,Me=256,Mt=512,oe=1024,$e=2048,St=4096,rt=8192,st=16384,ss=32768,xn=65536,os=1<<19,Cr=1<<20,yt=Symbol("$state"),Ir=Symbol("legacy props"),as=Symbol("");function Sr(e){return e===this.v}function ls(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ar(e){return!ls(e,this.v)}function cs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function us(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function fs(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ds(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function hs(){throw new Error("https://svelte.dev/e/hydration_failed")}function vs(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function _s(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function gs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ms(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function bs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Lr=!1;function ye(e){return{f:0,v:e,reactions:null,equals:Sr,version:0}}function ce(e){return ps(ye(e))}function Tr(e,t=!1){const n=ye(e);return t||(n.equals=Ar),n}function ps(e){return A!==null&&A.f&me&&(we===null?$s([e]):we.push(e)),e}function k(e,t){return A!==null&&Ps()&&A.f&(me|wn)&&(we===null||!we.includes(e))&&bs(),ys(e,t)}function ys(e,t){return e.equals(t)||(e.v=t,e.version=Zr(),Rr(e,$e),w!==null&&w.f&oe&&!(w.f&be)&&(H!==null&&H.includes(e)?(Ee(w,$e),tn(w)):Re===null?Ns([e]):Re.push(e))),t}function Rr(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var o=n[i],a=o.f;a&$e||(Ee(o,t),a&(oe|Me)&&(a&me?Rr(o,St):tn(o)))}}function Ht(e){console.warn("https://svelte.dev/e/hydration_mismatch")}let V=!1;function Je(e){V=e}let D;function Ne(e){if(e===null)throw Ht(),et;return D=e}function it(){return Ne(Ie(D))}function U(e){if(V){if(Ie(D)!==null)throw Ht(),et;D=e}}function ir(e=1){if(V){for(var t=e,n=D;t--;)n=Ie(n);D=n}}function ws(){for(var e=0,t=D;;){if(t.nodeType===8){var n=t.data;if(n===yr){if(e===0)return t;e-=1}else(n===br||n===pr)&&(e+=1)}var r=Ie(t);t.remove(),t=r}}function ee(e,t=null,n){if(typeof e!="object"||e===null||yt in e)return e;const r=dn(e);if(r!==rs&&r!==is)return e;var i=new Map,o=xr(e),a=ye(0);o&&i.set("length",ye(e.length));var l;return new Proxy(e,{defineProperty(c,h,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&_s();var v=i.get(h);return v===void 0?(v=ye(d.value),i.set(h,v)):k(v,ee(d.value,l)),!0},deleteProperty(c,h){var d=i.get(h);if(d===void 0)h in c&&i.set(h,ye(ie));else{if(o&&typeof h=="string"){var v=i.get("length"),_=Number(h);Number.isInteger(_)&&_<v.v&&k(v,_)}k(d,ie),sr(a)}return!0},get(c,h,d){if(h===yt)return e;var v=i.get(h),_=h in c;if(v===void 0&&(!_||Ve(c,h)?.writable)&&(v=ye(ee(_?c[h]:ie,l)),i.set(h,v)),v!==void 0){var b=u(v);return b===ie?void 0:b}return Reflect.get(c,h,d)},getOwnPropertyDescriptor(c,h){var d=Reflect.getOwnPropertyDescriptor(c,h);if(d&&"value"in d){var v=i.get(h);v&&(d.value=u(v))}else if(d===void 0){var _=i.get(h),b=_?.v;if(_!==void 0&&b!==ie)return{enumerable:!0,configurable:!0,value:b,writable:!0}}return d},has(c,h){if(h===yt)return!0;var d=i.get(h),v=d!==void 0&&d.v!==ie||Reflect.has(c,h);if(d!==void 0||w!==null&&(!v||Ve(c,h)?.writable)){d===void 0&&(d=ye(v?ee(c[h],l):ie),i.set(h,d));var _=u(d);if(_===ie)return!1}return v},set(c,h,d,v){var _=i.get(h),b=h in c;if(o&&h==="length")for(var E=d;E<_.v;E+=1){var x=i.get(E+"");x!==void 0?k(x,ie):E in c&&(x=ye(ie),i.set(E+"",x))}_===void 0?(!b||Ve(c,h)?.writable)&&(_=ye(void 0),k(_,ee(d,l)),i.set(h,_)):(b=_.v!==ie,k(_,ee(d,l)));var R=Reflect.getOwnPropertyDescriptor(c,h);if(R?.set&&R.set.call(v,d),!b){if(o&&typeof h=="string"){var B=i.get("length"),P=Number(h);Number.isInteger(P)&&P>=B.v&&k(B,P+1)}sr(a)}return!0},ownKeys(c){u(a);var h=Reflect.ownKeys(c).filter(_=>{var b=i.get(_);return b===void 0||b.v!==ie});for(var[d,v]of i)v.v!==ie&&!(d in c)&&h.push(d);return h},setPrototypeOf(){gs()}})}function sr(e,t=1){k(e,e.v+t)}var or,Fr,$r;function vn(){if(or===void 0){or=window;var e=Element.prototype,t=Node.prototype;Fr=Ve(t,"firstChild").get,$r=Ve(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function Jt(e=""){return document.createTextNode(e)}function ze(e){return Fr.call(e)}function Ie(e){return $r.call(e)}function O(e,t){if(!V)return ze(e);var n=ze(D);return n===null&&(n=D.appendChild(Jt())),Ne(n),n}function ln(e,t){if(!V){var n=ze(e);return n instanceof Comment&&n.data===""?Ie(n):n}return D}function F(e,t=1,n=!1){let r=V?D:e;for(var i;t--;)i=r,r=Ie(r);if(!V)return r;var o=r?.nodeType;if(n&&o!==3){var a=Jt();return r===null?i?.after(a):r.before(a),Ne(a),a}return Ne(r),r}function xs(e){e.textContent=""}function bt(e){var t=me|$e;w===null?t|=Me:w.f|=Cr;var n=A!==null&&A.f&me?A:null;const r={children:null,ctx:J,deps:null,equals:Sr,f:t,fn:e,reactions:null,v:null,version:0,parent:n??w};return n!==null&&(n.children??=[]).push(r),r}function Nr(e){var t=e.children;if(t!==null){e.children=null;for(var n=0;n<t.length;n+=1){var r=t[n];r.f&me?En(r):Ge(r)}}}function Es(e){for(var t=e.parent;t!==null;){if(!(t.f&me))return t;t=t.parent}return null}function Pr(e){var t,n=w;he(Es(e));try{Nr(e),t=Hr(e)}finally{he(n)}return t}function Ur(e){var t=Pr(e),n=(qe||e.f&Me)&&e.deps!==null?St:oe;Ee(e,n),e.equals(t)||(e.v=t,e.version=Zr())}function En(e){Nr(e),kt(e,0),Ee(e,st),e.v=e.children=e.deps=e.ctx=e.reactions=null}function ks(e){w===null&&A===null&&fs(),A!==null&&A.f&Me&&us(),Sn&&cs()}function Cs(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ot(e,t,n,r=!0){var i=(e&It)!==0,o=w,a={ctx:J,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|$e,first:null,fn:t,last:null,next:null,parent:i?null:o,prev:null,teardown:null,transitions:null,version:0};if(n){var l=tt;try{cr(!0),en(a),a.f|=ss}catch(d){throw Ge(a),d}finally{cr(l)}}else t!==null&&tn(a);var c=n&&a.deps===null&&a.first===null&&a.nodes_start===null&&a.teardown===null&&(a.f&Cr)===0;if(!c&&!i&&r&&(o!==null&&Cs(a,o),A!==null&&A.f&me)){var h=A;(h.children??=[]).push(a)}return a}function Is(e){const t=ot(Ct,null,!1);return Ee(t,oe),t.teardown=e,t}function Gt(e){ks();var t=w!==null&&(w.f&be)!==0&&J!==null&&!J.m;if(t){var n=J;(n.e??=[]).push({fn:e,effect:w,reaction:A})}else{var r=kn(e);return r}}function Or(e){const t=ot(It,e,!0);return()=>{Ge(t)}}function kn(e){return ot(kr,e,!1)}function qt(e){return ot(Ct,e,!0)}function Te(e){return Cn(e)}function Cn(e,t=0){return ot(Ct|wn|t,e,!0)}function Yt(e,t=!0){return ot(Ct|be,e,!0,t)}function Dr(e){var t=e.teardown;if(t!==null){const n=Sn,r=A;ur(!0),xe(null);try{t.call(null)}finally{ur(n),xe(r)}}}function Vr(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var n=0;n<t.length;n+=1)En(t[n])}}function zr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;Ge(n,t),n=r}}function Ss(e){for(var t=e.first;t!==null;){var n=t.next;t.f&be||Ge(t),t=n}}function Ge(e,t=!0){var n=!1;if((t||e.f&os)&&e.nodes_start!==null){for(var r=e.nodes_start,i=e.nodes_end;r!==null;){var o=r===i?null:Ie(r);r.remove(),r=o}n=!0}zr(e,t&&!n),Vr(e),kt(e,0),Ee(e,st);var a=e.transitions;if(a!==null)for(const c of a)c.stop();Dr(e);var l=e.parent;l!==null&&l.first!==null&&Br(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Br(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function ar(e,t){var n=[];Mr(e,n,!0),As(n,()=>{Ge(e),t&&t()})}function As(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var i of e)i.out(r)}else t()}function Mr(e,t,n){if(!(e.f&rt)){if(e.f^=rt,e.transitions!==null)for(const a of e.transitions)(a.is_global||n)&&t.push(a);for(var r=e.first;r!==null;){var i=r.next,o=(r.f&xn)!==0||(r.f&be)!==0;Mr(r,t,o?n:!1),r=i}}}function lr(e){Gr(e,!0)}function Gr(e,t){if(e.f&rt){At(e)&&en(e),e.f^=rt;for(var n=e.first;n!==null;){var r=n.next,i=(n.f&xn)!==0||(n.f&be)!==0;Gr(n,i?t:!1),n=r}if(e.transitions!==null)for(const o of e.transitions)(o.is_global||t)&&o.in()}}const Ls=typeof requestIdleCallback>"u"?e=>setTimeout(e,1):requestIdleCallback;let jt=!1,Kt=!1,_n=[],gn=[];function Yr(){jt=!1;const e=_n.slice();_n=[],Er(e)}function jr(){Kt=!1;const e=gn.slice();gn=[],Er(e)}function In(e){jt||(jt=!0,queueMicrotask(Yr)),_n.push(e)}function Ts(e){Kt||(Kt=!0,Ls(jr)),gn.push(e)}function Rs(){jt&&Yr(),Kt&&jr()}function Kr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}const Wr=0,Fs=1;let Pt=!1,Ut=Wr,xt=!1,Et=null,tt=!1,Sn=!1;function cr(e){tt=e}function ur(e){Sn=e}let De=[],nt=0;let A=null;function xe(e){A=e}let w=null;function he(e){w=e}let we=null;function $s(e){we=e}let H=null,le=0,Re=null;function Ns(e){Re=e}let Xr=0,qe=!1,J=null;function Zr(){return++Xr}function Ps(){return!Lr}function At(e){var t=e.f;if(t&$e)return!0;if(t&St){var n=e.deps,r=(t&Me)!==0;if(n!==null){var i;if(t&Mt){for(i=0;i<n.length;i++)(n[i].reactions??=[]).push(e);e.f^=Mt}for(i=0;i<n.length;i++){var o=n[i];if(At(o)&&Ur(o),r&&w!==null&&!qe&&!o?.reactions?.includes(e)&&(o.reactions??=[]).push(e),o.version>e.version)return!0}}r||Ee(e,oe)}return!1}function Us(e,t){for(var n=t;n!==null;){if(n.f&hn)try{n.fn(e);return}catch{n.f^=hn}n=n.parent}throw Pt=!1,e}function Os(e){return(e.f&st)===0&&(e.parent===null||(e.parent.f&hn)===0)}function Qt(e,t,n,r){if(Pt){if(n===null&&(Pt=!1),Os(t))throw e;return}n!==null&&(Pt=!0);{Us(e,t);return}}function Hr(e){var t=H,n=le,r=Re,i=A,o=qe,a=we,l=J,c=e.f;H=null,le=0,Re=null,A=c&(be|It)?null:e,qe=!tt&&(c&Me)!==0,we=null,J=e.ctx;try{var h=(0,e.fn)(),d=e.deps;if(H!==null){var v;if(kt(e,le),d!==null&&le>0)for(d.length=le+H.length,v=0;v<H.length;v++)d[le+v]=H[v];else e.deps=d=H;if(!qe)for(v=le;v<d.length;v++)(d[v].reactions??=[]).push(e)}else d!==null&&le<d.length&&(kt(e,le),d.length=le);return h}finally{H=t,le=n,Re=r,A=i,qe=o,we=a,J=l}}function Ds(e,t){let n=t.reactions;if(n!==null){var r=n.indexOf(e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&t.f&me&&(H===null||!H.includes(t))&&(Ee(t,St),t.f&(Me|Mt)||(t.f^=Mt),kt(t,0))}function kt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Ds(e,n[r])}function en(e){var t=e.f;if(!(t&st)){Ee(e,oe);var n=w,r=J;w=e;try{t&wn?Ss(e):zr(e),Vr(e),Dr(e);var i=Hr(e);e.teardown=typeof i=="function"?i:null,e.version=Xr}catch(o){Qt(o,e,n,r||e.ctx)}finally{w=n}}}function Jr(){if(nt>1e3){nt=0;try{ds()}catch(e){if(Et!==null)Qt(e,Et,null);else throw e}}nt++}function qr(e){var t=e.length;if(t!==0){Jr();var n=tt;tt=!0;try{for(var r=0;r<t;r++){var i=e[r];i.f&oe||(i.f^=oe);var o=[];Qr(i,o),Vs(o)}}finally{tt=n}}}function Vs(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if(!(r.f&(st|rt)))try{At(r)&&(en(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?Br(r):r.fn=null))}catch(i){Qt(i,r,null,r.ctx)}}}function zs(){if(xt=!1,nt>1001)return;const e=De;De=[],qr(e),xt||(nt=0,Et=null)}function tn(e){Ut===Wr&&(xt||(xt=!0,queueMicrotask(zs))),Et=e;for(var t=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(It|be)){if(!(n&oe))return;t.f^=oe}}De.push(t)}function Qr(e,t){var n=e.first,r=[];e:for(;n!==null;){var i=n.f,o=(i&be)!==0,a=o&&(i&oe)!==0,l=n.next;if(!a&&!(i&rt))if(i&Ct){if(o)n.f^=oe;else try{At(n)&&en(n)}catch(v){Qt(v,n,null,n.ctx)}var c=n.first;if(c!==null){n=c;continue}}else i&kr&&r.push(n);if(l===null){let v=n.parent;for(;v!==null;){if(e===v)break e;var h=v.next;if(h!==null){n=h;continue e}v=v.parent}}n=l}for(var d=0;d<r.length;d++)c=r[d],t.push(c),Qr(c,t)}function S(e){var t=Ut,n=De;try{Jr();const i=[];Ut=Fs,De=i,xt=!1,qr(n);var r=e?.();return Rs(),(De.length>0||i.length>0)&&S(),nt=0,Et=null,r}finally{Ut=t,De=n}}async function Bs(){await Promise.resolve(),S()}function u(e){var t=e.f,n=(t&me)!==0;if(n&&t&st){var r=Pr(e);return En(e),r}if(A!==null){we!==null&&we.includes(e)&&ms();var i=A.deps;H===null&&i!==null&&i[le]===e?le++:H===null?H=[e]:H.push(e),Re!==null&&w!==null&&w.f&oe&&!(w.f&be)&&Re.includes(e)&&(Ee(w,$e),tn(w))}else if(n&&e.deps===null)for(var o=e,a=o.parent,l=o;a!==null;)if(a.f&me){var c=a;l=c,a=c.parent}else{var h=a;h.deriveds?.includes(l)||(h.deriveds??=[]).push(l);break}return n&&(o=e,At(o)&&Ur(o)),e.v}function Be(e){const t=A;try{return A=null,e()}finally{A=t}}const Ms=~($e|St|oe);function Ee(e,t){e.f=e.f&Ms|t}function An(e,t=!1,n){J={p:J,c:null,e:null,m:!1,s:e,x:null,l:null}}function Ln(e){const t=J;if(t!==null){e!==void 0&&(t.x=e);const a=t.e;if(a!==null){var n=w,r=A;t.e=null;try{for(var i=0;i<a.length;i++){var o=a[i];he(o.effect),xe(o.reaction),kn(o.fn)}}finally{he(n),xe(r)}}J=t.p,t.m=!0}return e||{}}let fr=!1;function ei(){fr||(fr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ti(e){var t=A,n=w;xe(null),he(null);try{return e()}finally{xe(t),he(n)}}function ni(e,t,n,r=n){e.addEventListener(t,()=>ti(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),ei()}const ri=new Set,mn=new Set;function Gs(e,t,n,r){function i(o){if(r.capture||pt.call(t,o),!o.cancelBubble)return ti(()=>n.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?In(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function _e(e,t,n,r,i){var o={capture:r,passive:i},a=Gs(e,t,n,o);(t===document.body||t===window||t===document)&&Is(()=>{t.removeEventListener(e,a,o)})}function Ys(e){for(var t=0;t<e.length;t++)ri.add(e[t]);for(var n of mn)n(e)}function pt(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],o=i[0]||e.target,a=0,l=e.__root;if(l){var c=i.indexOf(l);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var h=i.indexOf(t);if(h===-1)return;c<=h&&(a=c)}if(o=i[a]||e.target,o!==t){Bt(e,"currentTarget",{configurable:!0,get(){return o||n}});var d=A,v=w;xe(null),he(null);try{for(var _,b=[];o!==null;){var E=o.assignedSlot||o.parentNode||o.host||null;try{var x=o["__"+r];if(x!==void 0&&!o.disabled)if(xr(x)){var[R,...B]=x;R.apply(o,[e,...B])}else x.call(o,e)}catch(P){_?b.push(P):_=P}if(e.cancelBubble||E===t||E===null)break;o=E}if(_){for(let P of b)queueMicrotask(()=>{throw P});throw _}}finally{e.__root=t,delete e.currentTarget,xe(d),he(v)}}}function ii(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Fe(e,t){var n=w;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function te(e,t){var n=(t&Qi)!==0,r=(t&es)!==0,i,o=!e.startsWith("<!>");return()=>{if(V)return Fe(D,null),D;i===void 0&&(i=ii(o?e:"<!>"+e),n||(i=ze(i)));var a=r?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=ze(a),c=a.lastChild;Fe(l,c)}else Fe(a,a);return a}}function js(){if(V)return Fe(D,null),D;var e=document.createDocumentFragment(),t=document.createComment(""),n=Jt();return e.append(t,n),Fe(t,n),e}function X(e,t){if(V){w.nodes_end=D,it();return}e!==null&&e.before(t)}const Ks=["touchstart","touchmove"];function Ws(e){return Ks.includes(e)}function Xs(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n==null?"":n+"")}function Tn(e,t){return si(e,t)}function Zs(e,t){vn(),t.intro=t.intro??!1;const n=t.target,r=V,i=D;try{for(var o=ze(n);o&&(o.nodeType!==8||o.data!==br);)o=Ie(o);if(!o)throw et;Je(!0),Ne(o),it();const a=si(e,{...t,anchor:o});if(D===null||D.nodeType!==8||D.data!==yr)throw Ht(),et;return Je(!1),a}catch(a){if(a===et)return t.recover===!1&&hs(),vn(),xs(n),Je(!1),Tn(e,t);throw a}finally{Je(r),Ne(i)}}const Xe=new Map;function si(e,{target:t,anchor:n,props:r={},events:i,context:o,intro:a=!0}){vn();var l=new Set,c=v=>{for(var _=0;_<v.length;_++){var b=v[_];if(!l.has(b)){l.add(b);var E=Ws(b);t.addEventListener(b,pt,{passive:E});var x=Xe.get(b);x===void 0?(document.addEventListener(b,pt,{passive:E}),Xe.set(b,1)):Xe.set(b,x+1)}}};c(ts(ri)),mn.add(c);var h=void 0,d=Or(()=>{var v=n??t.appendChild(Jt());return Yt(()=>{if(o){An({});var _=J;_.c=o}i&&(r.$$events=i),V&&Fe(v,null),h=e(v,r)||{},V&&(w.nodes_end=D),o&&Ln()}),()=>{for(var _ of l){t.removeEventListener(_,pt);var b=Xe.get(_);--b===0?(document.removeEventListener(_,pt),Xe.delete(_)):Xe.set(_,b)}mn.delete(c),bn.delete(h),v!==n&&v.parentNode?.removeChild(v)}});return bn.set(h,d),h}let bn=new WeakMap;function Hs(e){const t=bn.get(e);t&&t()}function ge(e,t,n=!1){V&&it();var r=e,i=null,o=null,a=ie,l=n?xn:0,c=!1;const h=(v,_=!0)=>{c=!0,d(_,v)},d=(v,_)=>{if(a===(a=v))return;let b=!1;if(V){const E=r.data===pr;!!a===E&&(r=ws(),Ne(r),Je(!1),b=!0)}a?(i?lr(i):_&&(i=Yt(()=>_(r))),o&&ar(o,()=>{o=null})):(o?lr(o):_&&(o=Yt(()=>_(r))),i&&ar(i,()=>{i=null})),b&&Je(!0)};Cn(()=>{c=!1,t(h),c||d(null,null)},l),V&&(r=D)}function Ze(e,t,n,r,i){var o=e,a="",l;Cn(()=>{if(a===(a=t()??"")){V&&it();return}l!==void 0&&(Ge(l),l=void 0),a!==""&&(l=Yt(()=>{if(V){D.data;for(var c=it(),h=c;c!==null&&(c.nodeType!==8||c.data!=="");)h=c,c=Ie(c);if(c===null)throw Ht(),et;Fe(D,h),o=Ne(c);return}var d=a+"",v=ii(d);Fe(ze(v),v.lastChild),o.before(v)}))})}function Js(e,t,n,r,i){V&&it();var o=t.$$slots?.[n],a=!1;o===!0&&(o=t.children,a=!0),o===void 0||o(e,a?()=>r:r)}function oi(e,t){In(()=>{var n=e.getRootNode(),r=n.host?n:n.head??n.ownerDocument.head;if(!r.querySelector("#"+t.hash)){const i=document.createElement("style");i.id=t.hash,i.textContent=t.code,r.appendChild(i)}})}function Qe(e){if(V){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;se(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var i=e.checked;se(e,"checked",null),e.checked=i}}};e.__on_r=n,Ts(n),ei()}}function qs(e,t){var n=e.__attributes??={};n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t)}function se(e,t,n,r){var i=e.__attributes??={};V&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=n)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[as]=n),n==null?e.removeAttribute(t):typeof n!="string"&&ai(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Z(e,t,n){var r=A,i=w;xe(null),he(null);try{ai(e).includes(t)?e[t]=n:se(e,t,n)}finally{xe(r),he(i)}}var dr=new Map;function ai(e){var t=dr.get(e.nodeName);if(t)return t;dr.set(e.nodeName,t=[]);for(var n,r=dn(e),i=Element.prototype;i!==r;){n=ns(r);for(var o in n)n[o].set&&t.push(o);r=dn(r)}return t}function Qs(e,t,n){if(n){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function hr(e,t,n=t){ni(e,"input",r=>{var i=r?e.defaultValue:e.value;if(i=cn(e)?un(i):i,n(i),i!==(i=t())){var o=e.selectionStart,a=e.selectionEnd;e.value=i??"",a!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(a,e.value.length))}}),(V&&e.defaultValue!==e.value||Be(t)==null&&e.value)&&n(cn(e)?un(e.value):e.value),qt(()=>{var r=t();cn(e)&&r===un(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function pn(e,t,n=t){ni(e,"change",r=>{var i=r?e.defaultChecked:e.checked;n(i)}),(V&&e.defaultChecked!==e.checked||Be(t)==null)&&n(e.checked),qt(()=>{var r=t();e.checked=!!r})}function cn(e){var t=e.type;return t==="number"||t==="range"}function un(e){return e===""?null:+e}function vr(e,t){return e===t||e?.[yt]===t}function wt(e={},t,n,r){return kn(()=>{var i,o;return qt(()=>{i=o,o=[],Be(()=>{e!==n(...o)&&(t(e,...o),i&&vr(n(...i),e)&&t(null,...i))})}),()=>{In(()=>{o&&vr(n(...o),e)&&t(null,...o)})}}),e}function Rn(e){J===null&&Kr(),Gt(()=>{const t=Be(e);if(typeof t=="function")return t})}function eo(e){J===null&&Kr(),Rn(()=>()=>Be(e))}let $t=!1;function to(e){var t=$t;try{return $t=!1,[e(),$t]}finally{$t=t}}function no(e){for(var t=w,n=w;t!==null&&!(t.f&(be|It));)t=t.parent;try{return he(t),e()}finally{he(n)}}function N(e,t,n,r){var i=(n&Zi)!==0,o=!Lr,a=(n&Ji)!==0,l=(n&qi)!==0,c=!1,h;a?[h,c]=to(()=>e[t]):h=e[t];var d=yt in e||Ir in e,v=Ve(e,t)?.set??(d&&a&&t in e?M=>e[t]=M:void 0),_=r,b=!0,E=!1,x=()=>(E=!0,b&&(b=!1,l?_=Be(r):_=r),_);h===void 0&&r!==void 0&&(v&&o&&vs(),h=x(),v&&v(h));var R;if(R=()=>{var M=e[t];return M===void 0?x():(b=!0,E=!1,M)},!(n&Hi))return R;if(v){var B=e.$$legacy;return function(M,z){return arguments.length>0?((!z||B||c)&&v(z?R():M),M):R()}}var P=!1,ve=!1,ue=Tr(h),W=no(()=>bt(()=>{var M=R(),z=u(ue);return P?(P=!1,ve=!0,z):(ve=!1,ue.v=M)}));return i||(W.equals=Ar),function(M,z){if(arguments.length>0){const ne=z?u(W):a?ee(M):M;return W.equals(ne)||(P=!0,k(ue,ne),E&&_!==void 0&&(_=ne),Be(()=>u(W))),M}return u(W)}}function ro(e){return new io(e)}class io{#t;#e;constructor(t){var n=new Map,r=(o,a)=>{var l=Tr(a);return n.set(o,l),l};const i=new Proxy({...t.props||{},$$events:{}},{get(o,a){return u(n.get(a)??r(a,Reflect.get(o,a)))},has(o,a){return a===Ir?!0:(u(n.get(a)??r(a,Reflect.get(o,a))),Reflect.has(o,a))},set(o,a,l){return k(n.get(a)??r(a,l),l),Reflect.set(o,a,l)}});this.#e=(t.hydrate?Zs:Tn)(t.component,{target:t.target,anchor:t.anchor,props:i,context:t.context,intro:t.intro??!1,recover:t.recover}),(!t?.props?.$$host||t.sync===!1)&&S(),this.#t=i.$$events;for(const o of Object.keys(this.#e))o==="$set"||o==="$destroy"||o==="$on"||Bt(this,o,{get(){return this.#e[o]},set(a){this.#e[o]=a},enumerable:!0});this.#e.$set=o=>{Object.assign(i,o)},this.#e.$destroy=()=>{Hs(this.#e)}}$set(t){this.#e.$set(t)}$on(t,n){this.#t[t]=this.#t[t]||[];const r=(...i)=>n.call(this,...i);return this.#t[t].push(r),()=>{this.#t[t]=this.#t[t].filter(i=>i!==r)}}$destroy(){this.#e.$destroy()}}let li;typeof HTMLElement=="function"&&(li=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;$$me;constructor(e,t,n){super(),this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const r=this.$$c.$on(e,t);this.$$l_u.set(t,r)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){const r=this.$$l_u.get(t);r&&(r(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(r){return i=>{const o=document.createElement("slot");r!=="default"&&(o.name=r),X(i,o)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const t={},n=so(this);for(const r of this.$$s)r in n&&(r==="default"&&!this.$$d.children?(this.$$d.children=e(r),t.default=!0):t[r]=e(r));for(const r of this.attributes){const i=this.$$g_p(r.name);i in this.$$d||(this.$$d[i]=Ot(i,r.value,this.$$p_d,"toProp"))}for(const r in this.$$p_d)!(r in this.$$d)&&this[r]!==void 0&&(this.$$d[r]=this[r],delete this[r]);this.$$c=ro({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$host:this}}),this.$$me=Or(()=>{qt(()=>{this.$$r=!0;for(const r of zt(this.$$c)){if(!this.$$p_d[r]?.reflect)continue;this.$$d[r]=this.$$c[r];const i=Ot(r,this.$$d[r],this.$$p_d,"toAttribute");i==null?this.removeAttribute(this.$$p_d[r].attribute||r):this.setAttribute(this.$$p_d[r].attribute||r,i)}this.$$r=!1})});for(const r in this.$$l)for(const i of this.$$l[r]){const o=this.$$c.$on(r,i);this.$$l_u.set(i,o)}this.$$l={}}}attributeChangedCallback(e,t,n){this.$$r||(e=this.$$g_p(e),this.$$d[e]=Ot(e,n,this.$$p_d,"toProp"),this.$$c?.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return zt(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function Ot(e,t,n,r){const i=n[e]?.type;if(t=i==="Boolean"&&typeof t!="boolean"?t!=null:t,!r||!n[e])return t;if(r==="toAttribute")switch(i){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(i){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function so(e){const t={};return e.childNodes.forEach(n=>{t[n.slot||"default"]=!0}),t}function ci(e,t,n,r,i,o){let a=class extends li{constructor(){super(e,n,i),this.$$p_d=t}static get observedAttributes(){return zt(t).map(l=>(t[l].attribute||l).toLowerCase())}};return zt(t).forEach(l=>{Bt(a.prototype,l,{get(){return this.$$c&&l in this.$$c?this.$$c[l]:this.$$d[l]},set(c){c=Ot(l,c,t),this.$$d[l]=c;var h=this.$$c;if(h){var d=Ve(h,l)?.get;d?h[l]=c:h.$set({[l]:c})}}})}),r.forEach(l=>{Bt(a.prototype,l,{get(){return this.$$c?.[l]}})}),e.element=a,a}const ui="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IGQ9bmV3IFRleHRFbmNvZGVyO2Z1bmN0aW9uIHAoZSl7cmV0dXJuWy4uLm5ldyBVaW50OEFycmF5KGUpXS5tYXAodD0+dC50b1N0cmluZygxNikucGFkU3RhcnQoMiwiMCIpKS5qb2luKCIiKX1hc3luYyBmdW5jdGlvbiBiKGUsdCxyKXtpZih0eXBlb2YgY3J5cHRvPiJ1Inx8ISgic3VidGxlImluIGNyeXB0byl8fCEoImRpZ2VzdCJpbiBjcnlwdG8uc3VidGxlKSl0aHJvdyBuZXcgRXJyb3IoIldlYiBDcnlwdG8gaXMgbm90IGF2YWlsYWJsZS4gU2VjdXJlIGNvbnRleHQgaXMgcmVxdWlyZWQgKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NlY3VyaXR5L1NlY3VyZV9Db250ZXh0cykuIik7cmV0dXJuIHAoYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3Qoci50b1VwcGVyQ2FzZSgpLGQuZW5jb2RlKGUrdCkpKX1mdW5jdGlvbiB3KGUsdCxyPSJTSEEtMjU2IixuPTFlNixsPTApe2NvbnN0IG89bmV3IEFib3J0Q29udHJvbGxlcixhPURhdGUubm93KCk7cmV0dXJue3Byb21pc2U6KGFzeW5jKCk9Pntmb3IobGV0IGM9bDtjPD1uO2MrPTEpe2lmKG8uc2lnbmFsLmFib3J0ZWQpcmV0dXJuIG51bGw7aWYoYXdhaXQgYih0LGMscik9PT1lKXJldHVybntudW1iZXI6Yyx0b29rOkRhdGUubm93KCktYX19cmV0dXJuIG51bGx9KSgpLGNvbnRyb2xsZXI6b319ZnVuY3Rpb24gaChlKXtjb25zdCB0PWF0b2IoZSkscj1uZXcgVWludDhBcnJheSh0Lmxlbmd0aCk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspcltuXT10LmNoYXJDb2RlQXQobik7cmV0dXJuIHJ9ZnVuY3Rpb24gZyhlLHQ9MTIpe2NvbnN0IHI9bmV3IFVpbnQ4QXJyYXkodCk7Zm9yKGxldCBuPTA7bjx0O24rKylyW25dPWUlMjU2LGU9TWF0aC5mbG9vcihlLzI1Nik7cmV0dXJuIHJ9YXN5bmMgZnVuY3Rpb24gbShlLHQ9IiIscj0xZTYsbj0wKXtjb25zdCBsPSJBRVMtR0NNIixvPW5ldyBBYm9ydENvbnRyb2xsZXIsYT1EYXRlLm5vdygpLHM9YXN5bmMoKT0+e2ZvcihsZXQgaT1uO2k8PXI7aSs9MSl7aWYoby5zaWduYWwuYWJvcnRlZHx8IWN8fCF1KXJldHVybiBudWxsO3RyeXtjb25zdCBmPWF3YWl0IGNyeXB0by5zdWJ0bGUuZGVjcnlwdCh7bmFtZTpsLGl2OmcoaSl9LGMsdSk7aWYoZilyZXR1cm57Y2xlYXJUZXh0Om5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShmKSx0b29rOkRhdGUubm93KCktYX19Y2F0Y2h7fX1yZXR1cm4gbnVsbH07bGV0IGM9bnVsbCx1PW51bGw7dHJ5e3U9aChlKTtjb25zdCBpPWF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCJTSEEtMjU2IixkLmVuY29kZSh0KSk7Yz1hd2FpdCBjcnlwdG8uc3VidGxlLmltcG9ydEtleSgicmF3IixpLGwsITEsWyJkZWNyeXB0Il0pfWNhdGNoe3JldHVybntwcm9taXNlOlByb21pc2UucmVqZWN0KCksY29udHJvbGxlcjpvfX1yZXR1cm57cHJvbWlzZTpzKCksY29udHJvbGxlcjpvfX1sZXQgeTtvbm1lc3NhZ2U9YXN5bmMgZT0+e2NvbnN0e3R5cGU6dCxwYXlsb2FkOnIsc3RhcnQ6bixtYXg6bH09ZS5kYXRhO2xldCBvPW51bGw7aWYodD09PSJhYm9ydCIpeT8uYWJvcnQoKSx5PXZvaWQgMDtlbHNlIGlmKHQ9PT0id29yayIpe2lmKCJvYmZ1c2NhdGVkImluIHIpe2NvbnN0e2tleTphLG9iZnVzY2F0ZWQ6c309cnx8e307bz1hd2FpdCBtKHMsYSxsLG4pfWVsc2V7Y29uc3R7YWxnb3JpdGhtOmEsY2hhbGxlbmdlOnMsc2FsdDpjfT1yfHx7fTtvPXcocyxjLGEsbCxuKX15PW8uY29udHJvbGxlcixvLnByb21pc2UudGhlbihhPT57c2VsZi5wb3N0TWVzc2FnZShhJiZ7Li4uYSx3b3JrZXI6ITB9KX0pfX19KSgpOwo=",oo=e=>Uint8Array.from(atob(e),t=>t.charCodeAt(0)),_r=typeof self<"u"&&self.Blob&&new Blob([oo(ui)],{type:"text/javascript;charset=utf-8"});function ao(e){let t;try{if(t=_r&&(self.URL||self.webkitURL).createObjectURL(_r),!t)throw"";const n=new Worker(t,{name:e?.name});return n.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),n}catch{return new Worker("data:text/javascript;base64,"+ui,{name:e?.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}class at{constructor(t){this.context=t}static pluginName;static register(t){typeof globalThis.altchaPlugins!="object"&&(globalThis.altchaPlugins=[]),globalThis.altchaPlugins.includes(t)||globalThis.altchaPlugins.push(t)}destroy(){}onErrorChange(t){}onStateChange(t){}}var y=(e=>(e.ERROR="error",e.VERIFIED="verified",e.VERIFYING="verifying",e.UNVERIFIED="unverified",e.EXPIRED="expired",e))(y||{});class lo extends at{static pluginName="obfuscation";elButton;#t=this.#e.bind(this);constructor(t){super(t);const n=t.el;this.elButton=n.parentElement?.querySelector("[data-clarify-button]")||n.parentElement?.querySelector("button, a"),this.elButton&&this.elButton.addEventListener("click",this.#t)}destroy(){this.elButton&&this.elButton.removeEventListener("click",this.#t)}async clarify(){const{el:t,getConfiguration:n,getFloatingAnchor:r,setFloatingAnchor:i,reset:o,solve:a,setState:l}=this.context,{delay:c,floating:h,maxnumber:d,obfuscated:v}=n();if(this.elButton&&!r()&&i(this.elButton),!v){l(y.ERROR);return}o(y.VERIFYING),await new Promise(B=>setTimeout(B,c||0));const[_,b]=v.split("?");let x=new URLSearchParams(b||"").get("key")||void 0;if(x){const B=x.match(/^\(prompt:?(.*)\)$/);B&&(x=prompt(B[1]||"Enter Key:")||void 0)}const{solution:R}=await a({obfuscated:_,key:x,maxnumber:d});R&&"clearText"in R?(this.#n(R.clearText),l(y.VERIFIED),this.context.dispatch("cleartext",R.clearText),h&&t&&(t.style.display="none")):l(y.ERROR,"Unable to decrypt data.")}#e(t){t.preventDefault();const{auto:n}=this.context.getConfiguration();n==="off"||this.clarify()}#n(t){const n=t.match(/^(mailto|tel|sms|https?):/);let r;if(n){const[i]=t.slice(t.indexOf(":")+1).replace(/^\/\//,"").split("?");r=document.createElement("a"),r.href=t,r.innerHTML=i}else r=document.createTextNode(t);this.elButton&&r&&(this.elButton.after(r),this.elButton.parentElement?.removeChild(this.elButton))}}at.register(lo);const fi=new TextEncoder;function co(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}async function uo(e,t="SHA-256",n=1e5){const r=Date.now().toString(16);e||(e=Math.round(Math.random()*n));const i=await di(r,e,t);return{algorithm:t,challenge:i,salt:r,signature:""}}async function di(e,t,n){if(typeof crypto>"u"||!("subtle"in crypto)||!("digest"in crypto.subtle))throw new Error("Web Crypto is not available. Secure context is required (https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts).");return co(await crypto.subtle.digest(n.toUpperCase(),fi.encode(e+t)))}function fo(e,t,n="SHA-256",r=1e6,i=0){const o=new AbortController,a=Date.now();return{promise:(async()=>{for(let c=i;c<=r;c+=1){if(o.signal.aborted)return null;if(await di(t,c,n)===e)return{number:c,took:Date.now()-a}}return null})(),controller:o}}function hi(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}}function ho(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}function vo(e,t=12){const n=new Uint8Array(t);for(let r=0;r<t;r++)n[r]=e%256,e=Math.floor(e/256);return n}async function _o(e,t="",n=1e6,r=0){const i="AES-GCM",o=new AbortController,a=Date.now(),l=async()=>{for(let d=r;d<=n;d+=1){if(o.signal.aborted||!c||!h)return null;try{const v=await crypto.subtle.decrypt({name:i,iv:vo(d)},c,h);if(v)return{clearText:new TextDecoder().decode(v),took:Date.now()-a}}catch{}}return null};let c=null,h=null;try{h=ho(e);const d=await crypto.subtle.digest("SHA-256",fi.encode(t));c=await crypto.subtle.importKey("raw",d,i,!1,["decrypt"])}catch{return{promise:Promise.reject(),controller:o}}return{promise:l(),controller:o}}class go extends at{static pluginName="analytics";#t;#e;#n=this.#r.bind(this);constructor(t){if(super(t),this.#t=this.context.el.closest("form"),this.#t){let n=this.#t.getAttribute("data-beacon-url");const r=this.#t.getAttribute("action");!n&&r&&(n=r+"/beacon"),this.#t.addEventListener("submit",this.#n),this.#e=new mo(this.#t,n)}}destroy(){this.#t?.removeEventListener("submit",this.#n),this.#e?.destroy()}onErrorChange(t){this.#e?.trackError(t)}#r(){if(this.#e&&!this.#e.submitTime){this.#e.end();const t=this.#e.dataAsBase64();this.context.dispatch("session",t);const n=document.createElement("input");n.type="hidden",n.name="__session",n.value=t,this.#t?.appendChild(n)}}}class mo{constructor(t,n=null){this.elForm=t,this.beaconUrl=n,window.addEventListener("unload",this.#i),this.elForm.addEventListener("change",this.#n),this.elForm.addEventListener("focusin",this.#r)}error=null;loadTime=Date.now();submitTime=null;startTime=null;viewTimeThresholdMs=1500;#t={};#e=null;#n=this.onFormChange.bind(this);#r=this.onFormFocus.bind(this);#i=this.onUnload.bind(this);data(){const t=Object.entries(this.#t);return{correction:t.length&&t.filter(([n,r])=>r>1).length/t.length||0,dropoff:!this.submitTime&&!this.error&&this.#e?this.#e:null,error:this.error,mobile:this.isMobile(),start:this.startTime,submit:this.submitTime,tz:hi()}}dataAsBase64(){try{return btoa(JSON.stringify(this.data()))}catch(t){console.error("failed to encode ALTCHA session data to base64",t)}return""}destroy(){window.removeEventListener("unload",this.#i),this.elForm.removeEventListener("change",this.#n),this.elForm.removeEventListener("focusin",this.#r)}end(){this.submitTime||(this.submitTime=Date.now())}getFieldName(t,n=40){const r=t.getAttribute("data-group-label"),i=t.getAttribute("name")||t.getAttribute("aria-label");return((r?r+": ":"")+i).slice(0,n)}isMobile(){const t="userAgentData"in navigator&&navigator.userAgentData?navigator.userAgentData:{};return"mobile"in t?t.mobile===!0:/Mobi/i.test(window.navigator.userAgent)}isInput(t){return["INPUT","SELECT","TEXTAREA"].includes(t.tagName)}onFormFieldChange(t){const n=this.getFieldName(t);n&&this.trackFieldChange(n)}onFormChange(t){const n=t.target;n&&this.isInput(n)&&this.onFormFieldChange(n)}onFormFocus(t){const n=t.target;if(this.startTime||this.start(),n&&this.isInput(n)){const r=this.getFieldName(n);r&&(this.#e=r)}}onUnload(){this.loadTime<=Date.now()-this.viewTimeThresholdMs&&!this.submitTime&&this.sendBeacon()}async sendBeacon(){if(this.beaconUrl&&"sendBeacon"in navigator)try{navigator.sendBeacon(new URL(this.beaconUrl,location.origin),JSON.stringify(this.data()))}catch{}}start(){this.startTime=Date.now()}trackError(t){this.error=t===null?null:String(t)}trackFieldChange(t){this.#t[t]=(this.#t[t]||0)+1}}at.register(go);const fn={generateKey:bo,exportKey:po,importKey:yo,decrypt:xo,encrypt:wo};async function bo(e=256){return crypto.subtle.generateKey({name:"AES-GCM",length:e},!0,["encrypt","decrypt"])}async function po(e){return new Uint8Array(await crypto.subtle.exportKey("raw",e))}async function yo(e){return crypto.subtle.importKey("raw",e,{name:"AES-GCM"},!0,["encrypt","decrypt"])}async function wo(e,t,n=16){const r=crypto.getRandomValues(new Uint8Array(n));return{encrypted:new Uint8Array(await crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,t)),iv:r}}async function xo(e,t,n){return new Uint8Array(await crypto.subtle.decrypt({name:"AES-GCM",iv:n},e,t))}function Eo(e,t=!1){return t&&(e=e.replace(/_/g,"/").replace(/-/g,"+")+"=".repeat(3-(3+e.length)%4)),Uint8Array.from(atob(e),n=>n.charCodeAt(0))}function vi(e,t=!1){const n=btoa(String.fromCharCode(...e));return t?n.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):n}function _i(e,t=80){let n="";for(;e.length>0;)n+=e.slice(0,t)+`
`,e=e.slice(t);return n}function gi(e){return Eo(e.split(/\r?\n/).filter(t=>!t.startsWith("-----")).join(""))}const lt="RSA-OAEP",nn="SHA-256",ko=2048,Co=new Uint8Array([1,0,1]),Io={generateKeyPair:So,encrypt:Ao,decrypt:Lo,exportPrivateKey:mi,exportPrivateKeyPem:Ro,exportPublicKey:Fn,exportPublicKeyPem:To,exportPublicKeyFromPrivateKey:$o,importPrivateKey:yi,importPrivateKeyPem:Fo,importPublicKey:bi,importPublicKeyPem:pi};async function So(){return crypto.subtle.generateKey({name:lt,modulusLength:ko,publicExponent:Co,hash:nn},!0,["encrypt","decrypt"])}async function Ao(e,t){return new Uint8Array(await crypto.subtle.encrypt({name:lt},e,t))}async function Lo(e,t){return new Uint8Array(await crypto.subtle.decrypt({name:lt},e,t))}async function Fn(e){return new Uint8Array(await crypto.subtle.exportKey("spki",e))}async function mi(e){return new Uint8Array(await crypto.subtle.exportKey("pkcs8",e))}async function To(e){return`-----BEGIN PUBLIC KEY-----
`+_i(vi(await Fn(e)),64)+"-----END PUBLIC KEY-----"}async function Ro(e){return`-----BEGIN PRIVATE KEY-----
`+_i(vi(await mi(e)),64)+"-----END PRIVATE KEY-----"}async function bi(e){return crypto.subtle.importKey("spki",e,{name:lt,hash:nn},!0,["encrypt"])}async function pi(e){return bi(gi(e))}async function yi(e){return crypto.subtle.importKey("pkcs8",e,{name:lt,hash:nn},!0,["decrypt"])}async function Fo(e){return yi(gi(e))}async function $o(e){const t=await crypto.subtle.exportKey("jwk",e);delete t.d,delete t.dp,delete t.dq,delete t.q,delete t.qi,t.key_ops=["encrypt"];const n=await crypto.subtle.importKey("jwk",t,{name:lt,hash:nn},!0,["encrypt"]);return Fn(n)}const No=new Uint8Array([1,0,1]),Po=256,Uo=16;async function Oo(e,t,n={}){const{aesIVLength:r=Uo,aesKeyLength:i=Po}=n,o=await fn.generateKey(i),{encrypted:a,iv:l}=await fn.encrypt(o,t,r),c=await Io.encrypt(e,await fn.exportKey(o));return new Uint8Array([...No,...new Uint8Array([c.length]),...new Uint8Array([l.length]),...c,...l,...a])}class Do extends at{static pluginName="upload";pendingFiles=[];uploadHandles=[];elForm;#t=this.#l.bind(this);#e=this.#c.bind(this);constructor(t){super(t),this.elForm=this.context.el.closest("form"),this.elForm&&(this.elForm.addEventListener("change",this.#t),this.elForm.addEventListener("submit",this.#e,{capture:!0}))}addFile(t,n){this.pendingFiles.find(([r,i])=>r===t&&i===n)||this.pendingFiles.push([t,n])}destroy(){this.elForm&&(this.elForm.removeEventListener("change",this.#t),this.elForm.removeEventListener("submit",this.#e))}async uploadPendingFiles(){const t=async()=>{const n=this.pendingFiles[0];if(n&&await this.#o(this.#r(n)),this.pendingFiles.length)return t()};await t(),this.pendingFiles.length===0&&(this.#n(),this.elForm?.requestSubmit())}#n(){const t=this.uploadHandles.reduce((n,r)=>(n[r.fieldName]||(n[r.fieldName]=[]),r.fileId&&n[r.fieldName].push(r.fileId),n),{});for(const n in t){const r=document.createElement("input");r.name=n,r.type="hidden",r.value=t[n].join(","),this.elForm?.querySelector(`[name="${n}"]`)?.setAttribute("disabled","disabled"),this.elForm?.appendChild(r)}}#r(t){const n=this.pendingFiles.findIndex(([i,o])=>i===t[0]&&o===t[1]);if(n<0)throw new Error("Cannot create upload handle.");const r=new Vo(t[0],t[1]);return this.uploadHandles.push(r),this.pendingFiles.splice(n,1),this.#i(r),this.#s(),r}#i(t){this.context.dispatch("upload",{handle:t})}#s(){const t=this.pendingFiles.reduce((r,[i,o])=>r+o.size,0)+this.uploadHandles.reduce((r,{uploadSize:i})=>r+i,0),n=this.uploadHandles.reduce((r,{loaded:i})=>r+i,0);this.context.dispatch("uploadprogress",{bytesLoaded:n,bytesTotal:t,pendingFiles:this.pendingFiles,uploadHandles:this.uploadHandles})}#a(){if(this.elForm){const t=this.elForm.getAttribute("action");return this.elForm.getAttribute("data-upload-url")||t+"/file"}return null}#l(t){const n=t.target;if(n&&n.type==="file"){const r=n.files;if(r?.length)for(const i of r)this.addFile(n.name,i)}}#c(t){this.pendingFiles.length&&(t.preventDefault(),t.stopPropagation(),this.uploadPendingFiles())}async#o(t,n){const r=this.#a();if(!r)throw new Error("Upload url not specified.");const i={"content-type":"application/json"};n&&(i.authorization="Altcha payload="+n);const o=await fetch(r,{body:JSON.stringify({name:t.file.name||"file",size:t.file.size,type:t.file.type||"application/octet-stream"}),credentials:"include",headers:i,method:"POST"});if(o.status===401)return this.#u(o,t);if(o.status!==200)throw new Error(`Unexpected server response ${o.status}.`);const a=await o.json();let l=t.file;if(a.encrypted&&a.encryptionPublicKey){const c=await pi(a.encryptionPublicKey),d=await new Response(new ReadableStream({async start(v){const _=t.file.stream().getReader();for(;;){const{done:b,value:E}=await _.read();if(b)break;v.enqueue(E)}v.close()}})).arrayBuffer();l=await Oo(c,new Uint8Array(d))}return t.uploadSize=l instanceof Uint8Array?l.byteLength:t.file.size,await this.#d(a.uploadUrl,t,l,{"content-type":t.file.type||"application/octet-stream"}),a.finalizeUrl&&await this.#f(a.finalizeUrl,t.uploadSize),t.fileId=a.fileId,t.resolve({encrypted:a.encrypted,fileId:a.fileId}),t.promise}async#u(t,n){try{const i=t.headers.get("www-authenticate")?.match(/challenge=(.*),/)?.[1];if(!i)throw new Error("Unable to retrieve altcha challenge from www-authenticate header.");const o=JSON.parse(i);if(o&&"challenge"in o){const{solution:a}=await this.context.solve(o);if(a&&"number"in a)return this.#o(n,btoa(JSON.stringify({...o,number:a.number})));throw new Error("Invalid challenge solution.")}}catch(r){throw this.context.log(r),new Error("Unable to solve altcha challenge for upload.")}}async#f(t,n){const r=await fetch(t,{body:JSON.stringify({uploadedBytes:n}),headers:{"content-type":"application/json"},method:"POST"});if(r.status>204)throw new Error(`Unexpected server response ${r.status}.`);return!0}async#d(t,n,r,i={}){return new Promise((o,a)=>{const l=new XMLHttpRequest;n.controller.signal.addEventListener("abort",()=>{l.abort()}),l.upload.addEventListener("progress",c=>{n.setProgress(c.loaded),this.#s()}),l.addEventListener("error",c=>{a(new Error("Upload failed."))}),l.addEventListener("load",()=>{o(void 0)}),l.open("PUT",t);for(const c in i)l.setRequestHeader(c,i[c]);l.send(r)})}}class Vo{constructor(t,n){this.fieldName=t,this.file=n,this.uploadSize=this.file.size,this.promise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}controller=new AbortController;promise;fileId;loaded=0;progress=0;uploadSize=0;resolve;reject;abort(){this.controller.abort()}setProgress(t){this.loaded=t,this.progress=this.file.size&&t?Math.min(1,t/this.file.size):0}}at.register(Do);const zo="/altcha-wasm/assets/detection_wasm_bg-DikI0jWV.wasm",Bo=async(e={},t)=>{let n;if(t.startsWith("data:")){const r=t.replace(/^data:.*?base64,/,"");let i;if(typeof Buffer=="function"&&typeof Buffer.from=="function")i=Buffer.from(r,"base64");else if(typeof atob=="function"){const o=atob(r);i=new Uint8Array(o.length);for(let a=0;a<o.length;a++)i[a]=o.charCodeAt(a)}else throw new Error("Cannot decode base64-encoded data URL");n=await WebAssembly.instantiate(i,e)}else{const r=await fetch(t),i=r.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&i.startsWith("application/wasm"))n=await WebAssembly.instantiateStreaming(r,e);else{const o=await r.arrayBuffer();n=await WebAssembly.instantiate(o,e)}}return n.instance.exports};let G;function Mo(e){G=e}const Go=typeof TextDecoder>"u"?(0,module.require)("util").TextDecoder:TextDecoder;let wi=new Go("utf-8",{ignoreBOM:!0,fatal:!0});wi.decode();let Nt=null;function Dt(){return(Nt===null||Nt.byteLength===0)&&(Nt=new Uint8Array(G.memory.buffer)),Nt}function ct(e,t){return e=e>>>0,wi.decode(Dt().subarray(e,e+t))}function ut(e){const t=G.__externref_table_alloc();return G.__wbindgen_export_2.set(t,e),t}function $n(e,t){try{return e.apply(this,t)}catch(n){const r=ut(n);G.__wbindgen_exn_store(r)}}function Lt(e){return e==null}let Wt=0;const Yo=typeof TextEncoder>"u"?(0,module.require)("util").TextEncoder:TextEncoder;let Vt=new Yo("utf-8");const jo=typeof Vt.encodeInto=="function"?function(e,t){return Vt.encodeInto(e,t)}:function(e,t){const n=Vt.encode(e);return t.set(n),{read:e.length,written:n.length}};function xi(e,t,n){if(n===void 0){const l=Vt.encode(e),c=t(l.length,1)>>>0;return Dt().subarray(c,c+l.length).set(l),Wt=l.length,c}let r=e.length,i=t(r,1)>>>0;const o=Dt();let a=0;for(;a<r;a++){const l=e.charCodeAt(a);if(l>127)break;o[i+a]=l}if(a!==r){a!==0&&(e=e.slice(a)),i=n(i,r,r=a+e.length*3,1)>>>0;const l=Dt().subarray(i+a,i+r),c=jo(e,l);a+=c.written,i=n(i,r,a,1)>>>0}return Wt=a,i}let He=null;function Xt(){return(He===null||He.buffer.detached===!0||He.buffer.detached===void 0&&He.buffer!==G.memory.buffer)&&(He=new DataView(G.memory.buffer)),He}const gr=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{G.__wbindgen_export_6.get(e.dtor)(e.a,e.b)});function Ko(e,t,n,r){const i={a:e,b:t,cnt:1,dtor:n},o=(...a)=>{i.cnt++;const l=i.a;i.a=0;try{return r(l,i.b,...a)}finally{--i.cnt===0?(G.__wbindgen_export_6.get(i.dtor)(l,i.b),gr.unregister(i)):i.a=l}};return o.original=i,gr.register(o,i,i),o}function yn(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){const i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){const i=e.length;let o="[";i>0&&(o+=yn(e[0]));for(let a=1;a<i;a++)o+=", "+yn(e[a]);return o+="]",o}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(n&&n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function Wo(e,t,n){G.closure5_externref_shim(e,t,n)}const mr=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>G.__wbg_detector_free(e>>>0,1));class Zt{static __wrap(t){t=t>>>0;const n=Object.create(Zt.prototype);return n.__wbg_ptr=t,mr.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,mr.unregister(this),t}free(){const t=this.__destroy_into_raw();G.__wbg_detector_free(t,0)}static new(){const t=G.detector_new();return Zt.__wrap(t)}end_detection(){G.detector_end_detection(this.__wbg_ptr)}is_detected(){return G.detector_is_detected(this.__wbg_ptr)!==0}}function Xo(){return $n(function(e,t,n,r){e.addEventListener(ct(t,n),r)},arguments)}function Zo(){return $n(function(e,t){return e.call(t)},arguments)}function Ho(e){return e.clientX}function Jo(e){return e.clientY}function qo(e){const t=e.document;return Lt(t)?0:ut(t)}function Qo(e,t){let n,r;try{n=e,r=t,console.error(ct(e,t))}finally{G.__wbindgen_free(n,r,1)}}function ea(e){let t;try{t=e instanceof Window}catch{t=!1}return t}function ta(e){console.log(e)}function na(){return new Error}function ra(e,t){return new Function(ct(e,t))}function ia(){return $n(function(e,t,n,r){e.removeEventListener(ct(t,n),r)},arguments)}function sa(e,t){const n=t.stack,r=xi(n,G.__wbindgen_malloc,G.__wbindgen_realloc),i=Wt;Xt().setInt32(e+4*1,i,!0),Xt().setInt32(e+4*0,r,!0)}function oa(){const e=typeof global>"u"?null:global;return Lt(e)?0:ut(e)}function aa(){const e=typeof globalThis>"u"?null:globalThis;return Lt(e)?0:ut(e)}function la(){const e=typeof self>"u"?null:self;return Lt(e)?0:ut(e)}function ca(){const e=typeof window>"u"?null:window;return Lt(e)?0:ut(e)}function ua(e){return e.timeStamp}function fa(e){const t=e.original;return t.cnt--==1?(t.a=0,!0):!1}function da(e,t,n){return Ko(e,t,6,Wo)}function ha(e,t){const n=yn(t),r=xi(n,G.__wbindgen_malloc,G.__wbindgen_realloc),i=Wt;Xt().setInt32(e+4*1,i,!0),Xt().setInt32(e+4*0,r,!0)}function va(){const e=G.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)}function _a(e){return e===void 0}function ga(e,t){return ct(e,t)}function ma(e,t){throw new Error(ct(e,t))}URL=globalThis.URL;const ae=await Bo({"./detection_wasm_bg.js":{__wbindgen_cb_drop:fa,__wbindgen_string_new:ga,__wbg_instanceof_Window_def73ea0955fc569:ea,__wbg_document_d249400bd7bd996d:qo,__wbg_log_c222819a41e063d3:ta,__wbg_clientX_5eb380a5f1fec6fd:Ho,__wbg_clientY_d8b9c7f0c4e2e677:Jo,__wbg_timeStamp_77f4ec8b6669253c:ua,__wbg_addEventListener_90e553fdce254421:Xo,__wbg_removeEventListener_056dfe8c3d6c58f9:ia,__wbg_newnoargs_105ed471475aaf50:ra,__wbg_call_672a4d21634d4a24:Zo,__wbindgen_is_undefined:_a,__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0:aa,__wbg_static_accessor_SELF_37c5d418e4bf5819:la,__wbg_static_accessor_WINDOW_5de37043a91a9c40:ca,__wbg_static_accessor_GLOBAL_88a902d13a557d07:oa,__wbg_new_8a6f238a6ece86ea:na,__wbg_stack_0ed75d68575b0f3c:sa,__wbg_error_7534b8e9a36f1ab4:Qo,__wbindgen_debug_string:ha,__wbindgen_throw:ma,__wbindgen_closure_wrapper34:da,__wbindgen_init_externref_table:va}},zo),ba=ae.memory,pa=ae.__wbg_detector_free,ya=ae.detector_new,wa=ae.detector_end_detection,xa=ae.detector_is_detected,Ea=ae.__wbindgen_exn_store,ka=ae.__externref_table_alloc,Ca=ae.__wbindgen_export_2,Ia=ae.__wbindgen_free,Sa=ae.__wbindgen_malloc,Aa=ae.__wbindgen_realloc,La=ae.__wbindgen_export_6,Ta=ae.closure5_externref_shim,Ei=ae.__wbindgen_start,Ra=Object.freeze(Object.defineProperty({__proto__:null,__externref_table_alloc:ka,__wbg_detector_free:pa,__wbindgen_exn_store:Ea,__wbindgen_export_2:Ca,__wbindgen_export_6:La,__wbindgen_free:Ia,__wbindgen_malloc:Sa,__wbindgen_realloc:Aa,__wbindgen_start:Ei,closure5_externref_shim:Ta,detector_end_detection:wa,detector_is_detected:xa,detector_new:ya,memory:ba},Symbol.toStringTag,{value:"Module"}));Mo(Ra);Ei();class Fa{timer=null;detector=Zt.new();endDetection(){return this.timer!==null&&(clearInterval(this.timer),this.timer=null),this.detector.end_detection(),this.detector.is_detected()}}var $a=te('<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="svelte-ddsc3z"><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" fill="currentColor" opacity=".25" class="svelte-ddsc3z"></path><path d="M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z" fill="currentColor" class="altcha-spinner svelte-ddsc3z"></path></svg>'),Na=te('<span role="status" aria-live="polite" class="svelte-ddsc3z"><!></span> <input type="hidden" class="svelte-ddsc3z">',1),Pa=te('<span role="status" aria-live="polite" class="svelte-ddsc3z"><!></span>'),Ua=te('<label class="svelte-ddsc3z"><!></label>'),Oa=te('<div class="svelte-ddsc3z"><a target="_blank" class="altcha-logo svelte-ddsc3z"><svg width="22" height="22" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-ddsc3z"><path d="M2.33955 16.4279C5.88954 20.6586 12.1971 21.2105 16.4279 17.6604C18.4699 15.947 19.6548 13.5911 19.9352 11.1365L17.9886 10.4279C17.8738 12.5624 16.909 14.6459 15.1423 16.1284C11.7577 18.9684 6.71167 18.5269 3.87164 15.1423C1.03163 11.7577 1.4731 6.71166 4.8577 3.87164C8.24231 1.03162 13.2883 1.4731 16.1284 4.8577C16.9767 5.86872 17.5322 7.02798 17.804 8.2324L19.9522 9.01429C19.7622 7.07737 19.0059 5.17558 17.6604 3.57212C14.1104 -0.658624 7.80283 -1.21043 3.57212 2.33956C-0.658625 5.88958 -1.21046 12.1971 2.33955 16.4279Z" fill="currentColor" class="svelte-ddsc3z"></path><path d="M3.57212 2.33956C1.65755 3.94607 0.496389 6.11731 0.12782 8.40523L2.04639 9.13961C2.26047 7.15832 3.21057 5.25375 4.8577 3.87164C8.24231 1.03162 13.2883 1.4731 16.1284 4.8577L13.8302 6.78606L19.9633 9.13364C19.7929 7.15555 19.0335 5.20847 17.6604 3.57212C14.1104 -0.658624 7.80283 -1.21043 3.57212 2.33956Z" fill="currentColor" class="svelte-ddsc3z"></path><path d="M7 10H5C5 12.7614 7.23858 15 10 15C12.7614 15 15 12.7614 15 10H13C13 11.6569 11.6569 13 10 13C8.3431 13 7 11.6569 7 10Z" fill="currentColor" class="svelte-ddsc3z"></path></svg></a></div>'),Da=te('<div class="svelte-ddsc3z"><!></div>'),Va=te('<div class="svelte-ddsc3z"><!></div>'),za=te('<div class="altcha-error svelte-ddsc3z"><svg width="14" height="14" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="svelte-ddsc3z"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" class="svelte-ddsc3z"></path></svg> <!></div>'),Ba=te('<div class="altcha-footer svelte-ddsc3z"><div class="svelte-ddsc3z"><!></div></div>'),Ma=te('<div class="altcha-anchor-arrow svelte-ddsc3z"></div>'),Ga=te('<!> <div class="altcha svelte-ddsc3z"><div class="altcha-main svelte-ddsc3z"><!> <div class="altcha-checkbox svelte-ddsc3z"><input type="checkbox" class="svelte-ddsc3z"></div> <div class="altcha-label svelte-ddsc3z"><!></div> <!></div> <!> <!> <!></div>',1);const Ya={hash:"svelte-ddsc3z",code:`.altcha.svelte-ddsc3z {background:var(--altcha-color-base, transparent);border:var(--altcha-border-width, 1px) solid var(--altcha-color-border, #a0a0a0);border-radius:var(--altcha-border-radius, 3px);color:var(--altcha-color-text, currentColor);display:flex;flex-direction:column;max-width:var(--altcha-max-width, 260px);position:relative;text-align:left;}.altcha.svelte-ddsc3z:focus-within {border-color:var(--altcha-color-border-focus, currentColor);}.altcha[data-floating].svelte-ddsc3z {background:var(--altcha-color-base, white);display:none;filter:drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.2));left:-100%;position:fixed;top:-100%;width:var(--altcha-max-width, 260px);z-index:999999;}.altcha[data-floating=top].svelte-ddsc3z .altcha-anchor-arrow:where(.svelte-ddsc3z) {border-bottom-color:transparent;border-top-color:var(--altcha-color-border, #a0a0a0);bottom:-12px;top:auto;}.altcha[data-floating=bottom].svelte-ddsc3z:focus-within::after {border-bottom-color:var(--altcha-color-border-focus, currentColor);}.altcha[data-floating=top].svelte-ddsc3z:focus-within::after {border-top-color:var(--altcha-color-border-focus, currentColor);}.altcha[data-floating].svelte-ddsc3z:not([data-state=unverified]) {display:block;}.altcha-anchor-arrow.svelte-ddsc3z {border:6px solid transparent;border-bottom-color:var(--altcha-color-border, #a0a0a0);content:"";height:0;left:12px;position:absolute;top:-12px;width:0;}.altcha-main.svelte-ddsc3z {align-items:center;display:flex;gap:0.4rem;padding:0.7rem;}.altcha-label.svelte-ddsc3z {flex-grow:1;}.altcha-label.svelte-ddsc3z label:where(.svelte-ddsc3z) {cursor:pointer;}.altcha-logo.svelte-ddsc3z {color:currentColor;opacity:0.3;}.altcha-logo.svelte-ddsc3z:hover {opacity:1;}.altcha-error.svelte-ddsc3z {color:var(--altcha-color-error-text, #f23939);display:flex;font-size:0.85rem;gap:0.3rem;padding:0 0.7rem 0.7rem;}.altcha-footer.svelte-ddsc3z {align-items:center;background-color:var(--altcha-color-footer-bg, transparent);display:flex;font-size:0.75rem;opacity:0.4;padding:0.2rem 0.7rem;text-align:right;}.altcha-footer.svelte-ddsc3z:hover {opacity:1;}.altcha-footer.svelte-ddsc3z > :where(.svelte-ddsc3z):first-child {flex-grow:1;}.altcha-footer.svelte-ddsc3z a {color:currentColor;}.altcha-checkbox.svelte-ddsc3z {display:flex;align-items:center;height:24px;width:24px;}.altcha-checkbox.svelte-ddsc3z input:where(.svelte-ddsc3z) {width:18px;height:18px;margin:0;}.altcha-hidden.svelte-ddsc3z {display:none;}.altcha-spinner.svelte-ddsc3z {
  animation: svelte-ddsc3z-altcha-spinner 0.75s infinite linear;transform-origin:center;}

@keyframes svelte-ddsc3z-altcha-spinner {
  100% {
    transform: rotate(360deg);
  }
}`};function ja(e,t){An(t,!0),oi(e,Ya);let n=N(t,"auto",7,void 0),r=N(t,"blockspam",7,void 0),i=N(t,"challengeurl",7,void 0),o=N(t,"challengejson",7,void 0),a=N(t,"customfetch",7,void 0),l=N(t,"debug",7,!1),c=N(t,"delay",7,0),h=N(t,"expire",7,void 0),d=N(t,"floating",7,void 0),v=N(t,"floatinganchor",7,void 0),_=N(t,"floatingoffset",7,void 0),b=N(t,"hidefooter",7,!1),E=N(t,"hidelogo",7,!1),x=N(t,"name",7,"altcha"),R=N(t,"maxnumber",7,1e6),B=N(t,"mockerror",7,!1),P=N(t,"obfuscated",7,void 0),ve=N(t,"plugins",7,void 0),ue=N(t,"refetchonexpire",7,!0),W=N(t,"spamfilter",7,!1),M=N(t,"strings",7,void 0),z=N(t,"test",7,!1),ne=N(t,"verifyurl",7,void 0),fe=N(t,"workers",23,()=>Math.min(16,navigator.hardwareConcurrency||8)),re=N(t,"workerurl",7,void 0);const Se=["SHA-256","SHA-384","SHA-512"],q="Visit Altcha.org",Tt="https://altcha.org/",Pe=(s,f)=>{t.$$host.dispatchEvent(new CustomEvent(s,{detail:f}))},ft=document.documentElement.lang?.split("-")?.[0],Ye=bt(()=>i()&&new URL(i(),location.origin).host.endsWith(".altcha.org")&&!!i()?.includes("apiKey=ckey_")),de=bt(()=>o()?Gn(o()):void 0),m=bt(()=>M()?Gn(M()):{}),Y=bt(()=>({ariaLinkLabel:q,error:"Verification failed. Try again later.",expired:"Verification expired. Try again.",footer:`Protected by <a href="${Tt}" target="_blank" aria-label="${u(m)?.ariaLinkLabel||q}">ALTCHA</a>`,label:"I'm not a robot",verified:"Verified",verifying:"Verifying...",waitAlert:"Verifying... please wait.",...u(m)}));let ke=ce(!1),L=ce(ee(y.UNVERIFIED)),Q=ce(void 0),dt=ce(null),je=null,j=null,Ke=ce(null),pe=null,Ae=[],Ue=ce(null);Gt(()=>{Fi(u(Ke))}),Gt(()=>{$i(u(L))}),eo(()=>{Ci(),j&&(j.removeEventListener("submit",Vn),j.removeEventListener("reset",zn),j.removeEventListener("focusin",Dn),j=null),pe&&(clearTimeout(pe),pe=null),document.removeEventListener("click",Un),document.removeEventListener("scroll",On),window.removeEventListener("resize",Mn)}),Rn(()=>{$("mounted","1.2.0-wasm"),$("workers",fe()),Ti(),$("plugins",Ae.length?Ae.map(s=>s.constructor.pluginName).join(", "):"none"),z()&&$("using test mode"),h()&&rn(h()),n()!==void 0&&$("auto",n()),d()!==void 0&&Yn(d()),j=u(Q)?.closest("form"),j&&(j.addEventListener("submit",Vn,{capture:!0}),j.addEventListener("reset",zn),n()==="onfocus"&&j.addEventListener("focusin",Dn)),n()==="onload"&&(P()?ht():Le()),u(Ye)&&(b()||E())&&$("Attributes hidefooter and hidelogo ignored because usage with free API Keys requires attribution."),requestAnimationFrame(()=>{Pe("load")})});function Nn(s,f){return btoa(JSON.stringify({algorithm:s.algorithm,challenge:s.challenge,number:f.number,salt:s.salt,signature:s.signature,test:z()?!0:void 0,took:f.took}))}function Ci(){for(const s of Ae)s.destroy()}function Pn(){i()&&ue()&&u(L)===y.VERIFIED?Le():vt(y.EXPIRED,u(Y).expired)}async function Ii(){if(B())throw $("mocking error"),new Error("Mocked error.");if(u(de))return $("using provided json data"),u(de);if(z())return $("generating test challenge",{test:z()}),uo(typeof z()!="boolean"?+z():void 0);{if(!i()&&j){const C=j.getAttribute("action");C?.includes("/form/")&&i(C+"/altcha")}if(!i())throw new Error("Attribute challengeurl not set.");$("fetching challenge from",i());let s=null,f=null;if(a())if($("using customfetch"),typeof a()=="string"){if(s=globalThis[a()]||null,!s)throw new Error(`Custom fetch function not found: ${a()}`)}else s=a();const g={headers:W()!==!1?{"x-altcha-spam-filter":"1"}:{}};if(s){if(f=await s(i(),g),!f||!(f instanceof Response))throw new Error("Custom fetch function did not return a response.")}else f=await fetch(i(),g);if(f.status!==200)throw new Error(`Server responded with ${f.status}.`);const I=f.headers.get("X-Altcha-Config"),K=await f.json(),T=new URLSearchParams(K.salt.split("?")?.[1]),p=T.get("expires")||T.get("expire");if(p){const C=new Date(+p*1e3),Ce=isNaN(C.getTime())?0:C.getTime()-Date.now();Ce>0&&rn(Ce)}if(I)try{const C=JSON.parse(I);C&&typeof C=="object"&&(C.verifyurl&&(C.verifyurl=new URL(C.verifyurl,new URL(i())).toString()),Wn(C))}catch(C){$("unable to configure from X-Altcha-Config",C)}return K}}function Si(s){const f=j?.querySelector(typeof s=="string"?`input[name="${s}"]`:'input[type="email"]:not([data-no-spamfilter])');return f?.value?.slice(f.value.indexOf("@"))||void 0}function Ai(){return W()==="ipAddress"?{blockedCountries:void 0,classifier:void 0,disableRules:void 0,email:!1,expectedCountries:void 0,expectedLanguages:void 0,fields:!1,ipAddress:void 0,text:void 0,timeZone:void 0}:typeof W()=="object"?W():{blockedCountries:void 0,classifier:void 0,disableRules:void 0,email:void 0,expectedCountries:void 0,expectedLanguages:void 0,fields:void 0,ipAddress:void 0,text:void 0,timeZone:void 0}}function Li(s){return[...j?.querySelectorAll(s?.length?s.map(g=>`input[name="${g}"]`).join(", "):'input[type="text"]:not([data-no-spamfilter]), textarea:not([data-no-spamfilter])')||[]].reduce((g,I)=>{const K=I.name,T=I.value;return K&&T&&(g[K]=/\n/.test(T)?T.replace(/(?<!\r)\n/g,`\r
`):T),g},{})}function Ti(){const s=ve()!==void 0?ve().split(","):void 0;for(const f of globalThis.altchaPlugins)(!s||s.includes(f.pluginName))&&Ae.push(new f({el:u(Q),clarify:ht,dispatch:Pe,getConfiguration:Xn,getFloatingAnchor:Zn,getState:Hn,log:$,reset:vt,solve:Kn,setState:Oe,setFloatingAnchor:Jn,verify:Le}))}function $(...s){(l()||s.some(f=>f instanceof Error))&&console[s[0]instanceof Error?"error":"log"]("ALTCHA",`[name=${x()}]`,...s)}function Ri(){[y.UNVERIFIED,y.ERROR,y.EXPIRED].includes(u(L))?W()!==!1&&j?.reportValidity()===!1?k(ke,!1):P()?ht():Le():k(ke,!0)}function Un(s){const f=s.target;d()&&f&&!u(Q).contains(f)&&(u(L)===y.VERIFIED||n()==="off"&&u(L)===y.UNVERIFIED)&&(u(Q).style.display="none")}function On(){d()&&u(L)!==y.UNVERIFIED&&Rt()}function Fi(s){for(const f of Ae)typeof f.onErrorChange=="function"&&f.onErrorChange(u(Ke))}function Dn(s){u(L)===y.UNVERIFIED&&Le()}function Vn(s){j&&n()==="onsubmit"?u(L)===y.UNVERIFIED?(s.preventDefault(),s.stopPropagation(),Le().then(()=>{j?.requestSubmit()})):u(L)!==y.VERIFIED&&(s.preventDefault(),s.stopPropagation(),u(L)===y.VERIFYING&&Bn()):j&&d()&&n()==="off"&&u(L)===y.UNVERIFIED&&(s.preventDefault(),s.stopPropagation(),u(Q).style.display="block",Rt())}function zn(){vt()}function Bn(){u(L)===y.VERIFYING&&u(Y).waitAlert&&alert(u(Y).waitAlert)}function $i(s){for(const f of Ae)typeof f.onStateChange=="function"&&f.onStateChange(u(L));d()&&u(L)!==y.UNVERIFIED&&requestAnimationFrame(()=>{Rt()}),k(ke,u(L)===y.VERIFIED)}function Mn(){d()&&Rt()}function Gn(s){return JSON.parse(s)}function Rt(s=20){if(u(Q))if(je||(je=(v()?document.querySelector(v()):j?.querySelector('input[type="submit"], button[type="submit"], button:not([type="button"]):not([type="reset"])'))||j),je){const f=parseInt(_(),10)||12,g=je.getBoundingClientRect(),I=u(Q).getBoundingClientRect(),K=document.documentElement.clientHeight,T=document.documentElement.clientWidth,p=d()==="auto"?g.bottom+I.height+f+s>K:d()==="top",C=Math.max(s,Math.min(T-s-I.width,g.left+g.width/2-I.width/2));if(p?u(Q).style.top=`${g.top-(I.height+f)}px`:u(Q).style.top=`${g.bottom+f}px`,u(Q).style.left=`${C}px`,u(Q).setAttribute("data-floating",p?"top":"bottom"),u(dt)){const Ce=u(dt).getBoundingClientRect();u(dt).style.left=g.left-C+g.width/2-Ce.width/2+"px"}}else $("unable to find floating anchor element")}async function Ni(s){if(!ne())throw new Error("Attribute verifyurl not set.");$("requesting server verification from",ne());const f={payload:s};if(W()!==!1){const{blockedCountries:K,classifier:T,disableRules:p,email:C,expectedLanguages:Ce,expectedCountries:an,fields:gt,ipAddress:mt,text:Wi,timeZone:rr}=Ai();f.blockedCountries=K,f.classifier=T,f.disableRules=p,f.email=C===!1?void 0:Si(C),f.expectedCountries=an,f.expectedLanguages=Ce||(ft?[ft]:void 0),f.fields=gt===!1?void 0:Li(gt),f.ipAddress=mt===!1?void 0:mt||"auto",f.text=Wi,f.timeZone=rr===!1?void 0:rr||hi()}const g=await fetch(ne(),{body:JSON.stringify(f),headers:{"content-type":"application/json"},method:"POST"});if(g.status!==200)throw new Error(`Server responded with ${g.status}.`);const I=await g.json();if(I?.payload&&k(Ue,ee(I.payload)),Pe("serververification",I),r()&&I.classification==="BAD")throw new Error("SpamFilter returned negative classification.")}function rn(s){$("expire",s),pe&&(clearTimeout(pe),pe=null),s<1?Pn():pe=setTimeout(Pn,s)}function Yn(s){$("floating",s),d()!==s&&(u(Q).style.left="",u(Q).style.top=""),d(s===!0||s===""?"auto":s===!1||s==="false"?void 0:d()),d()?(n()||n("onsubmit"),document.addEventListener("scroll",On),document.addEventListener("click",Un),window.addEventListener("resize",Mn)):n()==="onsubmit"&&n(void 0)}function jn(s){if(!s.algorithm)throw new Error("Invalid challenge. Property algorithm is missing.");if(s.signature===void 0)throw new Error("Invalid challenge. Property signature is missing.");if(!Se.includes(s.algorithm.toUpperCase()))throw new Error(`Unknown algorithm value. Allowed values: ${Se.join(", ")}`);if(!s.challenge||s.challenge.length<40)throw new Error("Challenge is too short. Min. 40 chars.");if(!s.salt||s.salt.length<10)throw new Error("Salt is too short. Min. 10 chars.")}async function Kn(s){let f=null;if("Worker"in window){try{f=await Pi(s,s.maxnumber)}catch(g){$(g)}if(f?.number!==void 0||"obfuscated"in s)return{data:s,solution:f}}if("obfuscated"in s){const g=await _o(s.obfuscated,s.key,s.maxnumber);return{data:s,solution:await g.promise}}return{data:s,solution:await fo(s.challenge,s.salt,s.algorithm,s.maxnumber||R()).promise}}async function Pi(s,f=typeof z()=="number"?z():R(),g=Math.ceil(fe())){const I=[];g=Math.min(16,Math.max(1,g));for(let p=0;p<g;p++)I.push(altchaCreateWorker(re()));const K=Math.ceil(f/g),T=await Promise.all(I.map((p,C)=>{const Ce=C*K;return new Promise(an=>{p.addEventListener("message",gt=>{if(gt.data)for(const mt of I)mt!==p&&mt.postMessage({type:"abort"});an(gt.data)}),p.postMessage({payload:s,max:Ce+K,start:Ce,type:"work"})})}));for(const p of I)p.terminate();return T.find(p=>!!p)||null}async function ht(){if(!P()){Oe(y.ERROR);return}const s=Ae.find(f=>f.constructor.pluginName==="obfuscation");if(!s||!("clarify"in s)){Oe(y.ERROR),$("Plugin `obfuscation` not found. Import `altcha/plugins/obfuscation` to load it.");return}if("clarify"in s&&typeof s.clarify=="function")return s.clarify()}function Wn(s){s.obfuscated!==void 0&&P(s.obfuscated),s.auto!==void 0&&(n(s.auto),n()==="onload"&&(P()?ht():Le())),s.blockspam!==void 0&&r(!!s.blockspam),s.customfetch!==void 0&&a(s.customfetch),s.floatinganchor!==void 0&&v(s.floatinganchor),s.delay!==void 0&&c(s.delay),s.floatingoffset!==void 0&&_(s.floatingoffset),s.floating!==void 0&&Yn(s.floating),s.expire!==void 0&&(rn(s.expire),h(s.expire)),s.challenge&&(o(typeof s.challenge=="string"?s.challenge:JSON.stringify(s.challenge)),jn(u(de))),s.challengeurl!==void 0&&i(s.challengeurl),s.debug!==void 0&&l(!!s.debug),s.hidefooter!==void 0&&b(!!s.hidefooter),s.hidelogo!==void 0&&E(!!s.hidelogo),s.maxnumber!==void 0&&R(+s.maxnumber),s.mockerror!==void 0&&B(!!s.mockerror),s.name!==void 0&&x(s.name),s.refetchonexpire!==void 0&&ue(!!s.refetchonexpire),s.spamfilter!==void 0&&W(typeof s.spamfilter=="object"?s.spamfilter:!!s.spamfilter),s.strings&&M(typeof s.strings=="string"?s.strings:JSON.stringify(s.strings)),s.test!==void 0&&z(typeof s.test=="number"?s.test:!!s.test),s.verifyurl!==void 0&&ne(s.verifyurl),s.workers!==void 0&&fe(+s.workers),s.workerurl!==void 0&&re(s.workerurl)}function Xn(){return{auto:n(),blockspam:r(),challengeurl:i(),debug:l(),delay:c(),expire:h(),floating:d(),floatinganchor:v(),floatingoffset:_(),hidefooter:b(),hidelogo:E(),name:x(),maxnumber:R(),mockerror:B(),obfuscated:P(),refetchonexpire:ue(),spamfilter:W(),strings:u(Y),test:z(),verifyurl:ne(),workers:fe(),workerurl:re()}}function Zn(){return je}function Ui(s){return Ae.find(f=>f.constructor.pluginName===s)}function Hn(){return u(L)}function vt(s=y.UNVERIFIED,f=null){pe&&(clearTimeout(pe),pe=null),k(ke,!1),k(Ue,null),Oe(s,f)}function Jn(s){je=s}function Oe(s,f=null){k(L,ee(s)),k(Ke,ee(f)),Pe("statechange",{payload:u(Ue),state:u(L)})}async function Le(){vt(y.VERIFYING),await new Promise(f=>setTimeout(f,c()||0));const s=new Fa;return Ii().then(f=>(jn(f),$("challenge",f),Kn(f))).then(({data:f,solution:g})=>{if($("solution",g),"challenge"in f&&g&&!("clearText"in g))if(g?.number!==void 0){if(ne())return Ni(Nn(f,g));k(Ue,ee(Nn(f,g))),$("payload",u(Ue))}else throw $("Unable to find a solution. Ensure that the 'maxnumber' attribute is greater than the randomly generated number."),new Error("Unexpected result returned.")}).then(()=>{if(s.endDetection()===!0)throw new Error("Detected bot.");Oe(y.VERIFIED),$("verified"),Bs().then(()=>{Pe("verified",{payload:u(Ue)})})}).catch(f=>{$(f),Oe(y.ERROR,f.message)})}var qn=Ga(),Qn=ln(qn);Js(Qn,t,"default",{});var _t=F(Qn,2),sn=O(_t),er=O(sn);{var Oi=s=>{var f=$a();X(s,f)};ge(er,s=>{u(L)===y.VERIFYING&&s(Oi)})}var Ft=F(er,2),We=O(Ft);Qe(We),We.__change=Ri,U(Ft);var on=F(Ft,2),Di=O(on);{var Vi=s=>{var f=Na(),g=ln(f),I=O(g);Ze(I,()=>u(Y).verified),U(g);var K=F(g,2);Qe(K),Te(()=>{se(K,"name",x()),qs(K,u(Ue))}),X(s,f)},zi=s=>{var f=js(),g=ln(f);{var I=T=>{var p=Pa(),C=O(p);Ze(C,()=>u(Y).verifying),U(p),X(T,p)},K=T=>{var p=Ua(),C=O(p);Ze(C,()=>u(Y).label),U(p),Te(()=>se(p,"for",`${x()??""}_checkbox`)),X(T,p)};ge(g,T=>{u(L)===y.VERIFYING?T(I):T(K,!1)},!0)}X(s,f)};ge(Di,s=>{u(L)===y.VERIFIED?s(Vi):s(zi,!1)})}U(on);var Bi=F(on,2);{var Mi=s=>{var f=Oa(),g=O(f);se(g,"href",Tt),U(f),Te(()=>se(g,"aria-label",u(Y).ariaLinkLabel)),X(s,f)};ge(Bi,s=>{(E()!==!0||u(Ye))&&s(Mi)})}U(sn);var tr=F(sn,2);{var Gi=s=>{var f=za(),g=F(O(f),2);{var I=T=>{var p=Da(),C=O(p);Ze(C,()=>u(Y).expired),U(p),Te(()=>se(p,"title",u(Ke))),X(T,p)},K=T=>{var p=Va(),C=O(p);Ze(C,()=>u(Y).error),U(p),Te(()=>se(p,"title",u(Ke))),X(T,p)};ge(g,T=>{u(L)===y.EXPIRED?T(I):T(K,!1)})}U(f),X(s,f)};ge(tr,s=>{(u(Ke)||u(L)===y.EXPIRED)&&s(Gi)})}var nr=F(tr,2);{var Yi=s=>{var f=Ba(),g=O(f),I=O(g);Ze(I,()=>u(Y).footer),U(g),U(f),X(s,f)};ge(nr,s=>{u(Y).footer&&(b()!==!0||u(Ye))&&s(Yi)})}var ji=F(nr,2);{var Ki=s=>{var f=Ma();wt(f,g=>k(dt,g),()=>u(dt)),X(s,f)};ge(ji,s=>{d()&&s(Ki)})}return U(_t),wt(_t,s=>k(Q,s),()=>u(Q)),Te(()=>{se(_t,"data-state",u(L)),se(_t,"data-floating",d()),Qs(Ft,"altcha-hidden",u(L)===y.VERIFYING),se(We,"id",`${x()??""}_checkbox`),We.required=n()!=="onsubmit"&&(!d()||n()!=="off")}),_e("invalid",We,Bn),pn(We,()=>u(ke),s=>k(ke,s)),X(e,qn),Ln({clarify:ht,configure:Wn,getConfiguration:Xn,getFloatingAnchor:Zn,getPlugin:Ui,getState:Hn,reset:vt,setFloatingAnchor:Jn,setState:Oe,verify:Le,get auto(){return n()},set auto(s=void 0){n(s),S()},get blockspam(){return r()},set blockspam(s=void 0){r(s),S()},get challengeurl(){return i()},set challengeurl(s=void 0){i(s),S()},get challengejson(){return o()},set challengejson(s=void 0){o(s),S()},get customfetch(){return a()},set customfetch(s=void 0){a(s),S()},get debug(){return l()},set debug(s=!1){l(s),S()},get delay(){return c()},set delay(s=0){c(s),S()},get expire(){return h()},set expire(s=void 0){h(s),S()},get floating(){return d()},set floating(s=void 0){d(s),S()},get floatinganchor(){return v()},set floatinganchor(s=void 0){v(s),S()},get floatingoffset(){return _()},set floatingoffset(s=void 0){_(s),S()},get hidefooter(){return b()},set hidefooter(s=!1){b(s),S()},get hidelogo(){return E()},set hidelogo(s=!1){E(s),S()},get name(){return x()},set name(s="altcha"){x(s),S()},get maxnumber(){return R()},set maxnumber(s=1e6){R(s),S()},get mockerror(){return B()},set mockerror(s=!1){B(s),S()},get obfuscated(){return P()},set obfuscated(s=void 0){P(s),S()},get plugins(){return ve()},set plugins(s=void 0){ve(s),S()},get refetchonexpire(){return ue()},set refetchonexpire(s=!0){ue(s),S()},get spamfilter(){return W()},set spamfilter(s=!1){W(s),S()},get strings(){return M()},set strings(s=void 0){M(s),S()},get test(){return z()},set test(s=!1){z(s),S()},get verifyurl(){return ne()},set verifyurl(s=void 0){ne(s),S()},get workers(){return fe()},set workers(s=Math.min(16,navigator.hardwareConcurrency||8)){fe(s),S()},get workerurl(){return re()},set workerurl(s=void 0){re(s),S()}})}Ys(["change"]);customElements.define("altcha-widget",ci(ja,{blockspam:{type:"Boolean"},debug:{type:"Boolean"},delay:{type:"Number"},expire:{type:"Number"},floatingoffset:{type:"Number"},hidefooter:{type:"Boolean"},hidelogo:{type:"Boolean"},maxnumber:{type:"Number"},mockerror:{type:"Boolean"},refetchonexpire:{type:"Boolean"},test:{type:"Boolean"},workers:{type:"Number"},auto:{},challengeurl:{},challengejson:{},customfetch:{},floating:{},floatinganchor:{},name:{},obfuscated:{},plugins:{},spamfilter:{},strings:{},verifyurl:{},workerurl:{}},["default"],["clarify","configure","getConfiguration","getFloatingAnchor","getPlugin","getState","reset","setFloatingAnchor","setState","verify"],!1));var Ka=te('<div class="success svelte-pcfs9x">Form successfully submitted.</div>'),Wa=te('<div class="failure svelte-pcfs9x">Failed to submit form.</div>'),Xa=te("<div><div> </div></div>"),Za=te('<main class="svelte-pcfs9x"><h1>ALTCHA</h1> <div><label for="challengeUrl" class="svelte-pcfs9x">Challenge URL <small>(to fetch the challenge from)</small>:</label> <input type="url" id="challengeUrl" placeholder="http://..." class="svelte-pcfs9x"></div> <div><label for="submitUrl" class="svelte-pcfs9x">Submit URL <small>(to submit the data to)</small>:</label> <input type="url" id="submitUrl" placeholder="http://..." class="svelte-pcfs9x"></div> <div><label for="testMode" class="svelte-pcfs9x">Test mode:</label> <input type="checkbox" id="testMode" class="svelte-pcfs9x"></div> <div><label for="mockError" class="svelte-pcfs9x">Mock error:</label> <input type="checkbox" id="mockError" class="svelte-pcfs9x"></div> <!> <!> <form method="post" class="svelte-pcfs9x"><div>Test form</div> <div><input type="text" name="test_field" placeholder="Test field..." class="svelte-pcfs9x"></div> <altcha-widget></altcha-widget> <div><button type="submit">Submit</button> <button type="reset">Reset</button></div></form> <form method="post" class="svelte-pcfs9x"><div>File Upload</div> <div><input type="file" name="test_file" required class="svelte-pcfs9x"></div> <div><input type="file" name="test_file2" class="svelte-pcfs9x"></div> <altcha-widget></altcha-widget> <!> <div><button type="submit">Submit</button> <button type="reset">Reset</button></div></form> <div class="form svelte-pcfs9x"><div>Obfuscated Email: <altcha-widget><a href="#">(click to reveal)</a></altcha-widget></div></div></main>',2);const Ha={hash:"svelte-pcfs9x",code:"main.svelte-pcfs9x {display:flex;font-family:sans-serif;flex-direction:column;gap:1rem;margin:6rem auto;max-width:600px;}input.svelte-pcfs9x:not([type=checkbox]) {box-sizing:border-box;font-family:inherit;font-size:inherit;padding:0.3rem;width:100%;}label.svelte-pcfs9x + input:where(.svelte-pcfs9x) {margin-top:0.3rem;}form.svelte-pcfs9x, .form.svelte-pcfs9x {border:1px solid #ddd;display:flex;flex-direction:column;gap:1rem;padding:1rem;}.success.svelte-pcfs9x {color:green;}.failure.svelte-pcfs9x {color:red;}"};function ki(e,t){An(t,!0),oi(e,Ha),globalThis.altchaCreateWorker=m=>new ao,globalThis.altchaPlugins=globalThis.altchaPlugins||[];const n=location.hash.includes("success"),r=location.hash.includes("failure"),i=new URLSearchParams(location.search);let o=ce(ee(i.get("challengeurl")||"")),a=ce(ee(i.get("submiturl")||"")),l=ce(!1),c=ce(!1),h=ce(void 0),d=ce(void 0),v=ce(null);Gt(()=>{k(l,ee(!u(o)&&i.get("test")!=="0"&&!u(a)))}),Rn(()=>{location.hash=""});var _=Za(),b=F(O(_),2),E=F(O(b),2);Qe(E),U(b);var x=F(b,2),R=F(O(x),2);Qe(R),U(x);var B=F(x,2),P=F(O(B),2);Qe(P),U(B);var ve=F(B,2),ue=F(O(ve),2);Qe(ue),U(ve);var W=F(ve,2);{var M=m=>{var Y=Ka();X(m,Y)};ge(W,m=>{n&&m(M)})}var z=F(W,2);{var ne=m=>{var Y=Wa();X(m,Y)};ge(z,m=>{r&&m(ne)})}var fe=F(z,2),re=F(O(fe),4);Z(re,"debug",!0),wt(re,m=>k(h,m),()=>u(h)),ir(2),U(fe);var Se=F(fe,2),q=F(O(Se),6);Z(q,"debug",!0),Z(q,"name","upload"),Z(q,"plugins","upload"),wt(q,m=>k(h,m),()=>u(h));var Tt=F(q,2);{var Pe=m=>{var Y=Xa(),ke=O(Y),L=O(ke);U(ke),U(Y),Te(()=>Xs(L,`${u(v).bytesLoaded??""} / ${u(v).bytesTotal??""}`)),X(m,Y)};ge(Tt,m=>{u(v)&&m(Pe)})}ir(2),U(Se);var ft=F(Se,2),Ye=O(ft),de=F(O(Ye));Z(de,"obfuscated","14tZkC2tFAQSrksIcD3OTD0u4ZWE4VkePJ5d0oVyoGmABDyW9YvNTA=="),Z(de,"debug",!0),Z(de,"delay",1500),Z(de,"name","email"),Z(de,"plugins","obfuscation"),Z(de,"floating",!0),wt(de,m=>k(d,m),()=>u(d)),U(Ye),U(ft),U(_),Te(()=>{E.disabled=u(l),R.disabled=u(l),se(fe,"action",u(a)),Z(re,"challengeurl",u(o)),Z(re,"mockerror",u(c)),Z(re,"test",u(l)),se(Se,"action",u(a)),Z(q,"challengeurl",u(o)),Z(q,"mockerror",u(c)),Z(q,"test",u(l))}),hr(E,()=>u(o),m=>k(o,m)),hr(R,()=>u(a),m=>k(a,m)),pn(P,()=>u(l),m=>k(l,m)),pn(ue,()=>u(c),m=>k(c,m)),_e("submit",fe,m=>u(l)?m.preventDefault():void 0),_e("statechange",re,m=>console.log("Event: statechange:",m)),_e("verified",re,m=>console.log("Event: verified:",m)),_e("serververification",re,m=>console.log("Event: serververification:",m)),_e("submit",Se,m=>u(l)?m.preventDefault():void 0),_e("upload",q,m=>console.log("Event: upload",m.detail)),_e("uploadprogress",q,m=>{k(v,ee(m.detail)),console.log("Event: uploadprogress",m.detail)}),_e("serververification",q,m=>console.log("Event: statechange:",m)),_e("verified",q,m=>console.log("Event: verified:",m)),_e("cleartext",de,m=>console.log("Event: cleartext:",m.detail)),X(e,_),Ln()}ci(ki,{},[],[],!0);Tn(ki,{target:document.getElementById("app")});
